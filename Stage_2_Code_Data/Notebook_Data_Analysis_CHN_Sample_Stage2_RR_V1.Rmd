---
title: "Chin_Subj_Analysis_Stage2_V1"
author: "Lei Yue"
date: "2024-01-01"
output: html_document
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


## Loading the data and Precossing the data
First, we load our first data sourse, namely, the five Chinese journals of coding data. Our coding scheme include three stage: pre-codding stage, coding stage and proofreading  coding stage. The coding data was producted in last two stages. We combine each coding data respectively becasuse these data was coded by different coding group.


### Loading the data of coding stage 
```{r message=FALSE, warning=FALSE}
rm(list = ls())

if (!require("pacman")) install.packages("pacman")

# use package "pacman" as loading R packages tools

pacman::p_load("tidyverse","rio","here")

file_list <- list.files(
  here::here("Stage_2_Code_Data"),
  pattern = ".xlsx",
  full.names = TRUE, recursive = TRUE)

df <- rio::import_list(file_list)


df <- lapply(df, function(df) {  
  df[] <- lapply(df, as.character)  
  return(df)  
})

rm(file_list)

```


### Check col names
I only corrected the inconsistencies in the case of letters and spelling errors in the column names. For any other inconsistencies in column names, I made the necessary modifications during the subsequent merging process.
```{r}
## Check the coding stage col names

Coding_Data_Names <- data.frame(Group1_Coding_Names = names(df[[1]]),
                       Group1_Coding_Suppl_Names = names(df[[2]]),
                       Group2_Coding_Names = names(df[[3]]),
                       Group3_Coding_Names = names(df[[4]]),
                       Group3_Coding_Suppl_Names = names(df[[5]]),
                       Group4_Coding_Names = names(df[[6]]),
                       Group5_Coding_Names = names(df[[7]]),
                       Group6_Coding_Names = names(df[[8]]),
                       Group7_Coding_Names = names(df[[9]])) 

check_row_equality1 <- function(row) {  
  all_equal <- all(row == row[1])  
  return(all_equal)  
}  
  
row_equalities1 <- apply(Coding_Data_Names, 1, check_row_equality1) 

### I found the names of 3,4,5, 19 cols are different and I modfication them.

colnames(df[[9]])[colnames(df[[9]]) == "First_author"] <- "First_Author"

colnames(df[[3]])[colnames(df[[3]]) == "Sample_Szie"] <- "Sample_Size"
colnames(df[[4]])[colnames(df[[4]]) == "Sample_Szie"] <- "Sample_Size"
colnames(df[[5]])[colnames(df[[5]]) == "Sample_Szie"] <- "Sample_Size"
colnames(df[[6]])[colnames(df[[6]]) == "Sample_Szie"] <- "Sample_Size"
colnames(df[[7]])[colnames(df[[7]]) == "Sample_Szie"] <- "Sample_Size"
colnames(df[[9]])[colnames(df[[9]]) == "Sample_Szie"] <- "Sample_Size"

rm(Coding_Data_Names,row_equalities1,check_row_equality1)

## Check the proofreading stage col names
Proofreading_Data_Names <- data.frame(Group1_Proofreading_Names = names(df[[10]]),
                                      Group2_Proofreading_Names = names(df[[11]]),
                                      Group3_Proofreading_Names = names(df[[12]]),
                                      Group4_Proofreading_Names = names(df[[13]]),
                                      Group5_Proofreading_Names = names(df[[14]]),
                                      Group6_Proofreading_Names = names(df[[15]]),
                                      Group7_Proofreading_Names = names(df[[16]]))

check_row_equality2 <- function(row) {  
  all_equal <- all(row == row[1])  
  return(all_equal)  
}  
  
row_equalities2 <- apply(Proofreading_Data_Names, 1, check_row_equality2) 

### I found the names of 8 cols are different and I modfication them.

colnames(df[[11]])[colnames(df[[11]]) == "target_population_N"] <- "Target_Population_N"

rm(Proofreading_Data_Names,row_equalities2,check_row_equality2)

```


### Combining the two stages' data (Group2,3,4,5,6, and 7)
```{r}
Group24567_1 <- dplyr::bind_rows(df[[3]],df[[6]],df[[7]],df[[8]],df[[9]]) %>% 
  dplyr::filter(Coder == "final") %>% 
  dplyr::select(-c(8,9,14:18,27,28,37,38))


Group24567_2 <- dplyr::bind_rows(df[[11]],df[[13]],df[[14]],df[[15]],df[[16]]) %>% 
  dplyr::filter(Coder == "final") %>%
  dplyr::rename_at(vars(1:4,7), ~paste0(., "_N"))

  
Group24567_bind <-  cbind(Group24567_1,Group24567_2) %>% 
  dplyr::select(1,30,2,31,8,32,11,33,3:7,9,10,12:29,34:48)


Group24567_bind_equal <- Group24567_bind %>%
  dplyr::select(3:8) %>% 
  dplyr::filter(!(Article_IDs == Article_IDs_N &
                    Study_Number == Study_Number_N &
                    Subjects_Group == Subjects_Group_N)) %>% 
  dplyr::mutate(Remark = ifelse(!(Article_IDs == Article_IDs_N), "Article_IDs", ifelse(!(Study_Number == Study_Number_N), "Study_Number", ifelse(!(Subjects_Group == Subjects_Group_N), "Subjects_Group", NA_character_))))

## The Articles_IDs, Study_Number, and Subject_Group of groups 2,4,5,6 and 7 are different in two coding stages (see Gourp24567_bind_equal) and now  we go back to the paper for modification.

Group24567_bind$Subjects_Group[125] <- Group24567_bind$Subjects_Group_N[125]

Group24567_bind$Subjects_Group[126] <- Group24567_bind$Subjects_Group_N[126]

Group24567_bind$Subjects_Group[127] <- Group24567_bind$Subjects_Group_N[127]
  
Group24567_bind$Subjects_Group[377] <- "传统识字教学组"
  
Group24567_bind$Subjects_Group[383] <- "健康对照组"

Group24567_bind$Subjects_Group[858] <- Group24567_bind$Subjects_Group_N[858]

Group24567_bind$Subjects_Group[859] <- Group24567_bind$Subjects_Group_N[859]

Group24567_bind$Subjects_Group[880] <- Group24567_bind$Subjects_Group_N[880]

Group24567_bind$Subjects_Group[881] <- Group24567_bind$Subjects_Group_N[881]

Group24567_bind$Subjects_Group[882] <- Group24567_bind$Subjects_Group_N[882]
  
Group24567_bind$Study_Number_N[975] <- 1
  
Group24567_bind$Study_Number_N[976] <- 2
  
Group24567_bind$Article_IDs[1057] <- 20181078
  
Group24567_bind$Subjects_Group_N[1076] <- "快乐经历"
  
Group24567_bind$Study_Number[1081] <- 0.1
  
Group24567_bind$Study_Number_N[1081] <- 0.1
  
Group24567_bind$Study_Number_N[1082] <- 0.2
  
Group24567_bind$Subjects_Group[1112] <- "控制组"
  
Group24567_bind$Study_Number_N[1176] <- 2

## run Group24567_bind_equal again and find this data.frame is not data available, thus we rm this data frame

rm(Group24567_bind_equal,Group24567_1,Group24567_2)

```


### Finding the distinct Ids in suppl documents
```{r }
Suppl_ID <- dplyr::bind_rows(df[[2]],df[[5]]) %>% 
  dplyr::filter(Coder == "final") %>%
  dplyr::distinct(Article_IDs)
```


### Loading the Group 1 data (include suppl)
```{r}
Group1_1 <- df[[1]] %>% 
  dplyr::filter(Coder == "final") %>% 
  dplyr::filter(!Article_IDs %in% Suppl_ID$Article_IDs) %>% 
  dplyr::select(-c(8,9,14:18,27,28,37,38))

Group1_suppl <- df[[2]] %>% 
  dplyr::filter(Coder == "final") %>% 
  dplyr::rename_at(vars(8,9,14:18,27,28,37,38), ~paste0(., "_N")) %>% 
  dplyr::mutate(Coder_N = NA, Article_IDs_N = NA, Study_Number_N = NA, 
                Subjects_Group_N = NA, Remark1_N = NA, Remark2_N = NA, 
                Remark3_N = NA, Coder2_N= NA) %>% 
  dplyr::mutate(Coder_N = Coder, Coder2_N = Coder,Article_IDs_N = Article_IDs,
                Study_Number_N = Study_Number, Subjects_Group_N = Subjects_Group, Remark1_N = Remark1,
                Remark2_N = Remark2, Remark3_N = Remark3)


Group1_2 <- df[[10]] %>% 
  dplyr::filter(Coder == "final") %>%
  dplyr::filter(!Article_IDs %in% Suppl_ID$Article_IDs) %>%
  dplyr::rename_at(vars(1:4,7), ~paste0(., "_N"))

Group1_bind <- cbind(Group1_1,Group1_2) %>%
  dplyr::select(1,30,2,31,8,32,11,33,3:7,9,10,12:29,34:48)

Group1_bind_equal <- Group1_bind %>%
  dplyr::select(3:8) %>% 
  dplyr::filter(!(Article_IDs == Article_IDs_N &
                    Study_Number == Study_Number_N &
                    Subjects_Group == Subjects_Group_N)) %>% 
  dplyr::mutate(Remark = ifelse(!(Article_IDs == Article_IDs_N), "Article_IDs", ifelse(!(Study_Number == Study_Number_N), "Study_Number", ifelse(!(Subjects_Group == Subjects_Group_N), "Subjects_Group", NA_character_))))

Group1_bind <- bind_rows(Group1_bind,Group1_suppl)

## The Articles_IDs, Study_Number, and Subject_Group are different in two coding stages (see Gourp1_bind_equal) and now  we go back to the paper for modification.

Group1_bind$Study_Number[170] <- Group1_bind$Study_Number_N[170]

Group1_bind$Study_Number[171] <- Group1_bind$Study_Number_N[171] 

Group1_bind$Study_Number[172] <- Group1_bind$Study_Number_N[172] 

Group1_bind$Study_Number[173] <- Group1_bind$Study_Number_N[173] 

## run Group1_bind_equal again and find this data.frame is not data available, thus we rm this data frame

rm(Group1_bind_equal,Group1_1,Group1_2,Group1_suppl)
``` 


### Loading the Group 3 data (include suppl)
```{r}
Group3_1 <- df[[4]] %>% 
  dplyr::filter(Coder == "final") %>% 
  dplyr::filter(!Article_IDs %in% Suppl_ID$Article_IDs) %>% 
  dplyr::select(-c(8,9,14:18,27,28,37,38)) #%>% 
  #dplyr::select(-30)

# The coders in the First_Author and Journal columns because of the wrong order of column names, so the two columns of 1:41 data position is reversed, now swap the data back, in order to facilitate the subsequent data merge

Group3_1_Journal <- Group3_1[1:41,"Journal"]
Group3_1_First_Author <- Group3_1[1:41,"First_Author"]

Group3_1[1:41,"Journal"] <- Group3_1_First_Author
Group3_1[1:41,"First_Author"] <- Group3_1_Journal

Group3_1 <- Group3_1 %>% 
  dplyr::rename(First_Author = "Journal",Journal = "First_Author")

# continue sorting data
Group3_suppl <- df[[5]] %>% 
  dplyr::filter(Coder == "final") %>% 
  dplyr::rename_at(vars(8,9,14:18,27,28,37,38), ~paste0(., "_N")) %>% 
  dplyr::mutate(Coder_N = NA, Article_IDs_N = NA, Study_Number_N = NA, 
                Subjects_Group_N = NA, Remark1_N = NA, Remark2_N = NA, 
                Remark3_N = NA, Coder2_N= NA) %>% 
  dplyr::mutate(Coder_N = Coder, Coder2_N = Coder,Article_IDs_N = Article_IDs,
                Study_Number_N = Study_Number, Subjects_Group_N = Subjects_Group, Remark1_N = Remark1,
                Remark2_N = Remark2, Remark3_N = Remark3)


Group3_2 <- df[[12]] %>% 
  dplyr::filter(Coder == "final") %>%
  dplyr::filter(!Article_IDs %in% Suppl_ID$Article_IDs) %>%
  dplyr::rename_at(vars(1:4,7), ~paste0(., "_N"))

## two data frame have different rows, check and find that Articles_IDs 20213137 is uncode

Group3_1$Article_IDs[169] <- 20213137

Group3_1$Article_IDs[170] <- 20213137

Group3_1_20213137suppl <- data.frame(Coder = c("final","final"),
                                Article_IDs =c(20213137,20213137),
                                Article_Title =c("外显社会范畴加工与内隐社会范畴加工的年龄效应
","外显社会范畴加工与内隐社会范畴加工的年龄效应"),Journal = c("中国临床心理学杂志","中国临床心理学杂志"),
First_Author =c("王沛","王沛"),
Abstract1 =c(1,1),
Abstract2 =c(0,0),
Study_Number =c(2,2),
Remark1 =c(NA,NA),
Study_Type =c(1,4),
Subjects_Group =c("年轻被试","老年被试"),
Sample_Size =c(41,46),
Gender = c(1,1),
Male_Num =c(19,20),
Female_Num =c(22,26),
Age =c(1,1),
M_age =c(21,63),
SD_age=c(NA,NA),
Other_age =c("19-26","58-88"),
Ethnicity=c(0,0),
Ethnicity_info=c(NA,NA),
Religious=c(0,0),
Religious_info=c(NA,NA),
Subjects_Area =c(0,0),
Subjects_Area_info =c(NA,NA),
Subjects_Recruitment_Area =c(0,0),
Sampling_Method =c(0,0),
Remark2=c(NA,NA),
Remark3=c(NA,NA))

Group3_2_20213137suppl <- data.frame(Coder_N = c("final", "final","final","final"),
                                Article_IDs_N = c(20213137,20213137,20213137,20213137),
                                Study_Number_N = c(1,1,2,2),
                                Subjects_Group_N = c("年轻被试","老年被试","年轻被试","老年被试"),
                                Remark2_N = c(NA,NA,NA,NA),
                                Remark3_N = c(NA,NA,NA,NA),
                                Coder2_N = c("final","final","final","final"),
                                Target_Population_N =c(3,3,3,3),
                                Coding_Basis_N = c("本研究采用 Garner 选择性注意范式探究了认
知者年龄对内隐社会范畴加工和外显社会范畴加工的影响，以及内隐社会范畴加工与外显社会范畴加工之间的关系","本研究采用Garner选择性注意范式探究了认知者年龄对内隐社会范畴加工和外显社会范畴加工的影响，以及内隐社会范畴加工与外显社会范畴加工之间的关系","本研究采用Garner选择性注意范式探究了认知者年龄对内隐社会范畴加工和外显社会范畴加工的影响，以及内隐社会范畴加工与外显社会范畴加工之间的关系","本研究采用 Garner选择性注意范式探究了认知者年龄对内隐社会范畴加工和外显社会范畴加工的影响，以及内隐社会范畴加工与外显社会范畴加工之间的关系"),
                                Remark1_N = c(NA,NA,NA,NA),
                                Sample_Type_N = c(1,4,1,4),
                                Sample_Type_info_N =c ("其中年轻被试40人（男性18人，女性22人），均为大学生","老年被试35人（男性17人，女性 18 人），均来自某老年大学，年龄 58-88 岁，平均年龄64岁","其中年轻大学生被试 41 人（男性 19 人，女性 22 人），年龄 19-26岁，平均年龄21岁","老年被试46人（男性20人，女性26人），均来自某老年大学，年龄58-88岁，平均年龄63岁"),
                                Educational_Attainment_N =c(NA,0,NA,0),
                                Educational_Attainment_info_N =c(NA,NA,NA,NA),
                                Occupation_N = c(NA,0,NA,0),
                                SES_N =c(0,0,0,0),
                                SES_info_N =c(NA,NA,NA,NA),
                                Subjects_Recruitment_Method_N =c(1,1,1,1),
                                Subjects_Recruitment_Method_info_N =c(NA, NA,NA,NA))


Group3_1_20213137 <- Group3_1 %>% 
  dplyr::filter(Article_IDs == 20213137)

Group3_1 <- Group3_1 %>% 
  dplyr::filter(!(Article_IDs == 20213137))

Group3_1_20213137_bind <- rbind(Group3_1_20213137,Group3_1_20213137suppl)

Group3_1_20213137_bind <- cbind(Group3_1_20213137_bind,Group3_2_20213137suppl) %>% 
    dplyr::select(1,30,2,31,8,32,11,33,3:7,9,10,12:29,34:48)


Group3_bind <- cbind(Group3_1,Group3_2) %>%
  dplyr::select(1,30,2,31,8,32,11,33,3:7,9,10,12:29,34:48)


Group3_bind_equal <- Group3_bind %>%
  dplyr::select(3:8) %>% 
  dplyr::filter(!(Article_IDs == Article_IDs_N &
                    Study_Number == Study_Number_N &
                    Subjects_Group == Subjects_Group_N)) %>% 
  dplyr::mutate(Remark = ifelse(!(Article_IDs == Article_IDs_N), "Article_IDs", ifelse(!(Study_Number == Study_Number_N), "Study_Number", ifelse(!(Subjects_Group == Subjects_Group_N), "Subjects_Group", NA_character_))))


## The Articles_IDs, Study_Number, and Subject_Group are different in two coding stages (see Gourp1_bind_equal) and now  we go back to the paper for modification.

Group3_bind$Study_Number[27] <- 0

Group3_bind$Study_Number_N[131] <- 1

Group3_bind$Subjects_Group_N[130] <- "实验组"

Group3_bind$Subjects_Group_N[131] <- "控制组"

## Experiment 2 of Article_IDs 20184025 was not code, but experiment2 subjects was sames as experiment 1, therefore we  dont't recode it. 

Group3_1_20213137_bind[] <- lapply(Group3_1_20213137_bind,as.character)

Group3_bind <- bind_rows(Group3_bind,Group3_suppl,Group3_1_20213137_bind)

rm(Group3_1,Group3_1_20213137,Group3_1_20213137_bind,Group3_1_20213137suppl,Group3_bind_equal,Group3_suppl,Group3_2,Group3_2_20213137suppl)

rm(Group3_1_Journal,Group3_1_First_Author)

```


### Combine the coding data and the proofreading data
```{r message=FALSE, warning=FALSE}

df_stage2_Journal_Code <- bind_rows(Group24567_bind,Group1_bind,Group3_bind)

### There are three articles that need to be replaced, and we will filter them out.
df_stage2_Journal_Code2 <- df_stage2_Journal_Code %>% 
  dplyr::filter(!Article_IDs %in% c(20084071,20182070,20185037))

```


## Check each code information and modification code information
### Coder(Coder2_N/Coder_N)

```{r message=FALSE, warning=FALSE}

any(is.na(df_stage2_Journal_Code2$Coder)) ### The code runs result is FALSE

any(is.na(df_stage2_Journal_Code2$Coder_N)) ### The code runs result is FALSE

any(is.na(df_stage2_Journal_Code2$Coder2_N)) ### The code runs result is TURE and further find NA rows
df_stage2_Journal_Code2$Article_IDs[is.na(df_stage2_Journal_Code2$Coder2_N)]

### The results of code run shows that 20211059, 20211061, 20213236, 20213239 is NA

df_stage2_Journal_Code2$Coder2_N[436] <- "final"
df_stage2_Journal_Code2$Coder2_N[437] <- "final"
df_stage2_Journal_Code2$Coder2_N[486] <- "final"
df_stage2_Journal_Code2$Coder2_N[487] <- "final"
```


### Article_IDs(Article_IDs_N)
```{r}
Article_IDs <-  df_stage2_Journal_Code2 %>% 
  dplyr::filter(is.na(Article_IDs))   ### The code runs results is 20083093 and 20181140

df_stage2_Journal_Code2$Article_IDs[62] <- 20083093
df_stage2_Journal_Code2$Article_IDs[73] <- 20181140


Article_IDs_N <- df_stage2_Journal_Code2 %>% 
  dplyr::filter(is.na(Article_IDs_N))  ### The code runs results is no data

rm(Article_IDs,Article_IDs_N)
```


### Study_Number(Study_Number_N)
```{r}
Study_Number <- df_stage2_Journal_Code2 %>% 
  dplyr::filter(is.na(Study_Number) | is.na(Study_Number_N))

### Article_IDs 20081127
df_stage2_Journal_Code2$Study_Number[28] <- 1
df_stage2_Journal_Code2$Study_Number_N[28] <- 1

### Article_IDs 20083093
df_stage2_Journal_Code2$Study_Number[62] <- 1
df_stage2_Journal_Code2$Study_Number_N[62] <- 1  ### 20083093 two coder codeed and completed "check", but they dont't complete "final"

### Article_IDs 20181140
df_stage2_Journal_Code2$Study_Number[73] <- 2  ### 20181140 same as 20083093

### Article_IDs 20181168
df_stage2_Journal_Code2$Study_Number_N[104] <- 0

### Article_IDs 20082054
df_stage2_Journal_Code2$Study_Number[246] <- 1
df_stage2_Journal_Code2$Study_Number_N[246] <- 1

### Article_IDs 20082069
df_stage2_Journal_Code2$Study_Number_N[254] <- 1

### Article_IDs 20082074
df_stage2_Journal_Code2$Study_Number[257:258] <- 1
df_stage2_Journal_Code2$Study_Number_N[257:258] <- 1

### Article_IDs 20082087
df_stage2_Journal_Code2$Study_Number_N[260] <- 1

### Article_IDs 20211046
df_stage2_Journal_Code2$Study_Number[432] <- 1
df_stage2_Journal_Code2$Study_Number_N[432] <- 1

### Article_IDs 20212097
df_stage2_Journal_Code2$Study_Number[928] <- 0
df_stage2_Journal_Code2$Study_Number[929] <- 0.1

### Article_IDs 20182192
df_stage2_Journal_Code2$Study_Number[1087] <- 1

### Article_IDs 20182193
df_stage2_Journal_Code2$Study_Number[1088] <- 1
df_stage2_Journal_Code2$Study_Number_N[1088] <- 1

### Article_IDs 20212172
df_stage2_Journal_Code2$Study_Number[1179] <- 1
df_stage2_Journal_Code2$Study_Number_N[1179] <- 1 

### Article_IDs 20083017
df_stage2_Journal_Code2$Study_Number_N[1298] <- 1

### Article_IDs 20183268
df_stage2_Journal_Code2$Study_Number[1393] <- 1
df_stage2_Journal_Code2$Study_Number_N[1393] <- 1 

### Article_IDs 20213023
df_stage2_Journal_Code2$Study_Number[1437] <- 1

### Article_IDs 20213039
df_stage2_Journal_Code2$Study_Number[1443] <- 1

### Article_IDs 20082013
df_stage2_Journal_Code2$Study_Number[1473] <- 1

### Artilce_IDs 20082029
df_stage2_Journal_Code2$Study_Number[1485] <- 1

rm(Study_Number)
```


### Subjects_Group
```{r}
Subjects_Group <- df_stage2_Journal_Code2 %>% 
  dplyr::filter((!is.na(Subjects_Group) & !is.na(Subjects_Group_N) & Subjects_Group != Subjects_Group_N) |
                  (is.na(Subjects_Group) & !is.na(Subjects_Group_N)) |
                  (!is.na(Subjects_Group) & is.na(Subjects_Group_N))) 


### Article_IDs 20083042
df_stage2_Journal_Code2$Subjects_Group[42] <- NA
df_stage2_Journal_Code2$Subjects_Group_N[42] <- NA

### Article_IDs 20181148
df_stage2_Journal_Code2$Subjects_Group[91] <- NA

### Article_IDs 20181162
df_stage2_Journal_Code2$Subjects_Group[98] <- NA

### Article_IDs 20181187
df_stage2_Journal_Code2$Subjects_Group_N[121] <- "积极怀旧组"
df_stage2_Journal_Code2$Subjects_Group_N[122] <- "主题怀旧组"

### Article_IDs 20182268
df_stage2_Journal_Code2$Subjects_Group_N[140:148] <- df_stage2_Journal_Code2$Subjects_Group[140:148]

### Article_IDs 20182019
df_stage2_Journal_Code2$Subjects_Group[339:341] <- df_stage2_Journal_Code2$Subjects_Group_N[339:341]

### Article_IDs 20182031
df_stage2_Journal_Code2$Subjects_Group[358:359] <- df_stage2_Journal_Code2$Subjects_Group_N[358:359]

### Article_IDs 20183071
df_stage2_Journal_Code2$Subjects_Group[369:370] <- df_stage2_Journal_Code2$Subjects_Group_N[369:370]

### Article_IDs 20182035
df_stage2_Journal_Code2$Subjects_Group_N[554] <- "海洛因戒断者组"

### Article_IDs 20082210
### Redundant Subjects Group
df_stage2_Journal_Code2$Subjects_Group[699:701] <- NA

### Article_IDs 20181023
df_stage2_Journal_Code2$Subjects_Group_N[788:791] <- df_stage2_Journal_Code2$Subjects_Group[788:791]

### Article_IDs 20182126
### Redundant Subjects Group
df_stage2_Journal_Code2$Subjects_Group[830:831] <- NA

### Article_IDs 20182131
df_stage2_Journal_Code2$Subjects_Group_N[832:833] <- df_stage2_Journal_Code2$Subjects_Group[832:833] 

### Article_IDs 20182174
df_stage2_Journal_Code2$Subjects_Group_N[1076] <- NA

### Article_IDs 20182192
df_stage2_Journal_Code2$Subjects_Group_N[1087] <- NA

### Article_IDs 20083017
df_stage2_Journal_Code2$Subjects_Group_N[1298:1299] <- df_stage2_Journal_Code2$Subjects_Group[1298:1299]

rm(Subjects_Group)

df_stage2_Journal_Code2 <- df_stage2_Journal_Code2 %>% 
  dplyr::mutate(Subjects_Group = if_else(Subjects_Group == 1, NA, Subjects_Group),
                Subjects_Group_N = if_else(Subjects_Group_N == 1, NA, Subjects_Group_N))

### In the process of checking, I found that there were some Subjects_Group in the paper, but it was not recorded. The above code cannot check for both Subjects_Group and Subjects_Group_N columns as NA, so check the above again.

```


### Article_Title
```{r}
Article_Title <-  df_stage2_Journal_Code2 %>%
  dplyr::filter(is.na(Article_Title))

### Article_IDs 20083093
df_stage2_Journal_Code2$Article_Title[62] <-  "抑郁与自尊水平、自我效能感的关系研究"

### Article_IDs 20181140
df_stage2_Journal_Code2$Article_IDs[73] <- 20181140
df_stage2_Journal_Code2$Article_Title[73] <- "比例推理的过度使用及其认知机制：一项发展性的负启动研究"
## I found 20181140 had some coding info uncode

## Article_IDs 20085035
df_stage2_Journal_Code2$Article_Title[747] <- "《适应分量表》在蒙古族青少年群体中使用的信、效度检验"
 
### Article_IDs 20183171
df_stage2_Journal_Code2$Article_Title[867:868] <- "母亲消极完美主义与女儿内化问题：一个多重中介模型"
 
### Article_IDs 20183182
df_stage2_Journal_Code2$Article_Title[870:872] <- "父亲婚姻满意度与幼儿社会适应：父亲反应方式的中介作用"
 
### Article_IDs 20183188
df_stage2_Journal_Code2$Article_Title[873] <- "非营利机构员工相对剥夺感对情绪耗竭的影响：心理契约违背的中介作用"
 
### Article_IDs 20183052
df_stage2_Journal_Code2$Article_Title[1571] <- "学生同伴依恋与抑郁：自我认同感和宿舍人际关系的中介作用"

### Article_IDs 20183054
df_stage2_Journal_Code2$Article_Title[1572] <- "父母心理控制、自主支持与青少年外化问题行为：控制动机的中介作用"

### Article_IDs 20184022
df_stage2_Journal_Code2$Article_Title[1587:1592] <- "幼儿的自我投射能力对情景预见的影响：来自典型发展儿童和孤独症谱系障碍儿童的证据"

### Article_IDs 20211015
df_stage2_Journal_Code2$Article_Title[1671:1672] <- "如何激发员工绿色行为？绿色变革型领导与绿色人力资源管理实践的作用"

rm(Article_Title)
```


### First_Author and Journal
```{r}
First_Author_Journal <-  df_stage2_Journal_Code2 %>% 
  dplyr::filter(is.na(First_Author) | is.na(Journal)) %>% 
  dplyr::select(3,4,10,11)

### Article_IDs 20083093
df_stage2_Journal_Code2$First_Author[62] <- "戴琴"
df_stage2_Journal_Code2$Journal[62] <- "中国临床心理学杂志"

### Article_IDs 20181140
df_stage2_Journal_Code2$First_Author[73] <- "江荣焕"
df_stage2_Journal_Code2$Journal[73] <-  "心理学报"

### Article_IDs 20185166
df_stage2_Journal_Code2$First_Author[208] <- "张林" 

### Article_IDs 20215077
df_stage2_Journal_Code2$First_Author[241] <- "张昕"

### Article_IDs 20215078
df_stage2_Journal_Code2$First_Author[242] <- "张野"

### Article_IDs 20081048
df_stage2_Journal_Code2$First_Author[1273] <- "冯冬冬"
df_stage2_Journal_Code2$Journal[1273] <- "心理学报"

### Article_IDs 20082379
df_stage2_Journal_Code2$First_Author[1292] <- "安秋玲" 
df_stage2_Journal_Code2$Journal[1292] <- "心理科学"

### Article_IDS 20184027
df_stage2_Journal_Code2$First_Author[1669:1670] <- "童钰" 
df_stage2_Journal_Code2$Journal[1669:1670] <- "心理发展与教育"

### Article_IDs 20213137
df_stage2_Journal_Code2$First_Author[1677] <- "王沛"
df_stage2_Journal_Code2$Journal[1677] <- "中国临床心理学杂志"

### Article_IDs 20213153
df_stage2_Journal_Code2$First_Author[1682] <- "王鸿飞"
df_stage2_Journal_Code2$Journal[1682] <- "中国临床心理学杂志"

rm(First_Author_Journal)
```


### Remark
```{r}
Remark1 <- df_stage2_Journal_Code2 %>% 
  dplyr::select(3,14,39) %>% 
  dplyr::filter(if_any(c(Remark1, Remark1_N), ~!is.na(.) & nzchar(.)))


### Article_IDs 20214072
df_stage2_Journal_Code2$Remark1[976] <- "secondary"

### Article_IDs 20182193
df_stage2_Journal_Code2$Remark1_N[1088] <- "mining"

### Article_ID 20213088
df_stage2_Journal_Code2$Remark1_N[224] <- "qualitative"

### Article_IDs 20182192
df_stage2_Journal_Code2$Remark1_N[1087] <- "qualitative"

### Article_IDs 20082029
df_stage2_Journal_Code2$Remark1_N[1485] <- "qualitative"

### Article_IDs 20181168
#df_stage2_Journal_Code2$Remark1[104] <- "mining"
#df_stage2_Journal_Code2$Remark1_N[104] <- "mining"
#df_stage2_Journal_Code2$Remark1_N[105:106] <- NA

### Article_IDs 20082013
df_stage2_Journal_Code2$Remark1_N[1473] <- "secondary"

### Articel_IDs 20213305
df_stage2_Journal_Code2$Remark1[683] <- "inapplicable"
df_stage2_Journal_Code2$Remark1_N[683] <- "inapplicable"

### Article_IDs 20081055
df_stage2_Journal_Code2$Remark1[1278:1279] <- "inapplicable"
df_stage2_Journal_Code2$Remark1_N[1278:1279] <- "inapplicable"

### Article_IDs 20181039
df_stage2_Journal_Code2$Remark1[1025] <- "secondary"

### Article_IDs 20182257
df_stage2_Journal_Code2$Remark1[130] <- "secondary"
df_stage2_Journal_Code2$Remark1_N[130] <- "secondary"
df_stage2_Journal_Code2$Remark2[130] <- "与20182255被试重复"
df_stage2_Journal_Code2$Remark2_N[130] <- "与20182255被试重复"

### Article_IDs 20182271
df_stage2_Journal_Code2$Remark1[150] <- "secondary"

### Article_IDs 20182283
df_stage2_Journal_Code2$Remark1[155:156] <- "secondary"

### Article_IDs 20182028
df_stage2_Journal_Code2$Remark1[355] <- "non_human"
df_stage2_Journal_Code2$Remark1_N[355] <- "non_human"

### Article_IDs 20082165
df_stage2_Journal_Code2$Remark1[503] <- "inapplicable"
df_stage2_Journal_Code2$Remark1_N[503] <- "inapplicable"

### Article_IDs 20212013
df_stage2_Journal_Code2$Remark1[643] <- "inapplicable"
df_stage2_Journal_Code2$Remark1_N[643] <- "inapplicable"

### Article_IDs 20085023
df_stage2_Journal_Code2$Remark1[742] <- "secondary"

### Article_IDs 20213023
df_stage2_Journal_Code2$Remark1[1437] <- "mining"

### Article_IDs 20183360
df_stage2_Journal_Code2$Remark1[1574] <- "secondary"

### Article_IDs 20184019
df_stage2_Journal_Code2$Remark1[1586] <- "secondary" 

rm(Remark1)

Remark2 <- df_stage2_Journal_Code2 %>% 
  dplyr::select(3,32,34) %>%
  dplyr::filter(grepl("重复",Remark2)| grepl("重复",Remark2_N))

### Article_IDs 20081104
df_stage2_Journal_Code2$Remark2_N[21] <- "被试重复使用"

### Article_IDs 20081132
df_stage2_Journal_Code2$Remark2_N[30:31] <- "被试重复使用"

### Article_IDs 20083038
df_stage2_Journal_Code2$Remark2[38:39] <- "被试重复使用"
df_stage2_Journal_Code2$Remark2_N[38:39] <- "被试重复使用"

### Article_IDs 20083085
df_stage2_Journal_Code2$Remark2_N[60] <- "被试重复使用"

### Article_IDs 20213104
df_stage2_Journal_Code2$Remark2_N[231] <- "被试重复使用"
df_stage2_Journal_Code2$Remark3_N[231] <- "样本3重复使用样本2为重测"

### Article_IDs 20182030
df_stage2_Journal_Code2$Remark2_N[357] <- "被试重复使用"

### Article_IDs 20184042
df_stage2_Journal_Code2$Remark2_N[388] <- "被试重复使用"

### Article_IDs 20181022
df_stage2_Journal_Code2$Remark2[782:783] <- NA
df_stage2_Journal_Code2$Remark2[784:785] <- "被试重复使用"

### Article_IDs 20185003
df_stage2_Journal_Code2$Remark2_N[897] <- NA
df_stage2_Journal_Code2$Remark2[898] <- "被试重复使用"

rm(Remark2)

```

### Abstract1
```{r}
Abstract1 <- df_stage2_Journal_Code2 %>% 
  dplyr::filter(is.na(Abstract1) & (is.na(Remark1) | Remark1 == "")) %>%
  dplyr::filter(is.na(Remark1_N)) %>% 
  dplyr::select(3,12,14)

### Article_IDs 20081070
df_stage2_Journal_Code2$Abstract1[6:7] <- 0

### Article_IDs 20081073
df_stage2_Journal_Code2$Abstract1[10] <- 0

### Article_IDs 20081127
df_stage2_Journal_Code2$Abstract1[28] <- "1b"

### Article_IDs 20081132
df_stage2_Journal_Code2$Abstract1[30:31] <- 123 

### Article_IDs 20081134
df_stage2_Journal_Code2$Abstract1[33] <- 1234

### Article_IDs 20083038
df_stage2_Journal_Code2$Abstract1[38:39] <- 14

### Article_IDs 20083039
df_stage2_Journal_Code2$Abstract1[41] <- 134

### Article_IDs 20083052
df_stage2_Journal_Code2$Abstract1[44] <- 0

### Article_IDs 20083067
df_stage2_Journal_Code2$Abstract1[51] <- 134

### Article_IDs 20181140
df_stage2_Journal_Code2$Abstract1[73] <- 123

### Article_IDs 20183334
df_stage2_Journal_Code2$Abstract1[183] <- 14

### Article_IDs 20182035 
df_stage2_Journal_Code2$Abstract1[555] <- 1

### Article_IDs 20085035
df_stage2_Journal_Code2$Abstract1[747] <-  "12348b"

### Article_IDs 20085044
df_stage2_Journal_Code2$Abstract1[752:754] <- "1234b"

### Article_IDs 20181017
df_stage2_Journal_Code2$Abstract1[773:776] <- 0

### Article_IDs 20181022
df_stage2_Journal_Code2$Abstract1[782:787] <- 8

### Article_IDs 20181023
df_stage2_Journal_Code2$Abstract1[788:793] <- 1238

### Article_IDs 20182075
df_stage2_Journal_Code2$Abstract1[794] <- 123

### Article_IDs 20182103
df_stage2_Journal_Code2$Abstract1[805:810] <- 123

### Article_IDs 20182125
df_stage2_Journal_Code2$Abstract1[825:829] <- 12345
 
rm(Abstract1)
```


### Abstract2
```{r message=FALSE, warning=FALSE}
Abstract2 <- df_stage2_Journal_Code2 %>% 
  dplyr::filter(Sample_Type_N == c(1,5) & (is.na(Abstract2) | Abstract2 == "")) %>% 
  dplyr::select(3,40,13,14,39,41) %>% 
  dplyr::arrange(Sample_Type_N)

### Article_IDs 20081070
df_stage2_Journal_Code2$Abstract2[6:7] <- 0

### Article_IDs 20081132
df_stage2_Journal_Code2$Abstract2[30:31] <- 1

### Article_IDs 20181140
df_stage2_Journal_Code2$Abstract2[73] <- 1

### Article_IDs 20083204
df_stage2_Journal_Code2$Abstract2[284:286] <- 1

### Article_IDs 20181005
df_stage2_Journal_Code2$Abstract2[761:766] <- 0
  
### Article_IDs 20182103
df_stage2_Journal_Code2$Abstract2[805:812] <- 1

### Article_IDs 20082313
df_stage2_Journal_Code2$Abstract2[989:990] <- 0  

### Article_IDs 20082343
df_stage2_Journal_Code2$Abstract2[1002:1003] <- 0  

### Article_IDs 20082346
df_stage2_Journal_Code2$Abstract2[1005] <- 0 

### Article_IDs 20181028
df_stage2_Journal_Code2$Abstract2[1017:1020] <- 0

### Article_IDs 20181034
df_stage2_Journal_Code2$Abstract2[1023:1024] <- 0

### Article_IDs 20181037
df_stage2_Journal_Code2$Abstract2[1025:1026] <- 0

### Article_IDs 20181044
df_stage2_Journal_Code2$Abstract2[1029] <- 0

### Article_IDs 20181051
df_stage2_Journal_Code2$Abstract2[1030:1032] <- 0

### Article_IDs 20181052
df_stage2_Journal_Code2$Abstract2[1033:1034] <- 0

### Article_IDs 20181058
df_stage2_Journal_Code2$Abstract2[1035:1036] <- 0

### Article_IDs 20181061
df_stage2_Journal_Code2$Abstract2[1037:1039] <- 0

### Article_IDs 20181063
df_stage2_Journal_Code2$Abstract2[1040:1041] <- 0

### Article_IDs 20181065
df_stage2_Journal_Code2$Abstract2[1042:1045] <- 0

### Article_IDs 20181066
df_stage2_Journal_Code2$Abstract2[1046:1047] <- 0

### Article_IDs 20181073
df_stage2_Journal_Code2$Abstract2[1049:1052] <- 0

### Article_IDs 20181075
df_stage2_Journal_Code2$Abstract2[1053:1056] <- 0

### Article_IDs 20181078
df_stage2_Journal_Code2$Abstract2[1057] <- 0

### Article_IDs 20182164
df_stage2_Journal_Code2$Sample_Type_info_N[1062:1065] <- 0

### Article_IDs 20182165
df_stage2_Journal_Code2$Abstract2[1066:1067] <- 0

### Article_IDs 20182168
df_stage2_Journal_Code2$Abstract2[1069:1077] <- 0

### Article_IDs 20182183
df_stage2_Journal_Code2$Abstract2[1084:1085] <- 0

### Article_IDs 20183231
df_stage2_Journal_Code2$Abstract2[1113] <- 1

### Article_IDs 20185044
df_stage2_Journal_Code2$Abstract2[1137] <- 0

### Article_IDs 20185058
df_stage2_Journal_Code2$Abstract2[1149:1150] <- 0

### Article_IDs 20185060
df_stage2_Journal_Code2$Abstract2[1151] <- 0

### Article_IDs 20185073
df_stage2_Journal_Code2$Abstract2[1159]

### Article_IDs 20185079
df_stage2_Journal_Code2$Abstract2[1165] <- 0

### Article_IDs 20212166
df_stage2_Journal_Code2$Abstract2[1177:1180] <- 0

### Article_IDs 20212171
df_stage2_Journal_Code2$Abstract2[1181] <- 0

### Article_IDs 20212175
df_stage2_Journal_Code2$Abstract2[1185:1186] <- 0

### Article_IDs 20212188
df_stage2_Journal_Code2$Abstract2[1190:1193] <- 0

### Article_IDs 20182164
df_stage2_Journal_Code2$Abstract2[1062:1065] <- 0

### Article_IDs 20185073
df_stage2_Journal_Code2$Abstract2[1159] <- 0

### Article_IDs 20214085
df_stage2_Journal_Code2$Abstract2[1202:1203] <- 0

### Article_IDs 20215005
df_stage2_Journal_Code2$Abstract2[1205] <- 0

### Article_IDs 20215006
df_stage2_Journal_Code2$Abstract2[1206:1207] <- 0

### Article_IDs 20215007
df_stage2_Journal_Code2$Abstract2[1208:1209] <- 0

### Article_IDs 20215017
df_stage2_Journal_Code2$Abstract2[1213:1214] <- 0

### Article_IDs 20215023
df_stage2_Journal_Code2$Abstract2[1215:1217] <- 0

### Article_IDs 20215068
df_stage2_Journal_Code2$Abstract2[1235:1237] <- 0

### Article_IDs 20185110
df_stage2_Journal_Code2$Abstract2[1421] <- 0

### Article_IDs 20082024
df_stage2_Journal_Code2$Abstract2[1483] <- 1

### Article_IDs 20213155
df_stage2_Journal_Code2$Abstract2[1641:1642] <- 1

### Article_IDs 20213168
df_stage2_Journal_Code2$Abstract2[1647] <- 1

### Article_IDs 20211040
df_stage2_Journal_Code2$Abstract2[424:428] <- 0
df_stage2_Journal_Code2$Sample_Type_N[424:428] <- 1

### Article_IDs 20211040
df_stage2_Journal_Code2$Sample_Type_info_N[470] <- 4

### Article_IDs 20213254
df_stage2_Journal_Code2$Abstract2[493] <- 0

### Article_IDs 20082188
df_stage2_Journal_Code2$Abstract2[515] <- 0

### Article_IDs 20084057
df_stage2_Journal_Code2$Sample_Type_info_N[531:532] <- 4

### Article_IDs 20182035
df_stage2_Journal_Code2$Sample_Type_info_N[555:556] <- 4

rm(Abstract2)


```


### Sample_Size
```{r}
Sample_Size <- df_stage2_Journal_Code2 %>% 
  dplyr::select(3,14,39,16,32,34) %>% 
  dplyr::filter(is.na(Sample_Size)) %>% 
  dplyr::filter(is.na(Remark1)) %>% 
  dplyr::filter(!grepl("重复",Remark2))

### Article_IDs 20083093
df_stage2_Journal_Code2$Sample_Size[62] <- 175

### Article_IDs 20181140
df_stage2_Journal_Code2$Sample_Size[73] <- 43

### Article_IDs 20182022
df_stage2_Journal_Code2$Remark2[354] <- "被试重复使用"
df_stage2_Journal_Code2$Remark2_N[354] <- "被试重复使用"

### Article_IDs 20182262
df_stage2_Journal_Code2$Sample_Size[724] <- 60

### Article_IDs 20082283
df_stage2_Journal_Code2$Sample_Size[732] <- 426

### Article_IDs 20085044
df_stage2_Journal_Code2$Sample_Size[753] <- 33
#Meanwhile, I found this article' subjects group was uncode.
#df_stage2_Journal_Code2$Subjects_Group[752:754] <- c("3岁组","4岁组","5岁组")
#df_stage2_Journal_Code2$Subjects_Group_N[752:754] <- c("3岁组","4岁组","5岁组")

### Article_IDs 20182101
df_stage2_Journal_Code2$Sample_Size[801] <- 29
df_stage2_Journal_Code2$Female_Num[801] <- 12

### Article_IDs 20182103
df_stage2_Journal_Code2$Sample_Size[807] <- 124
##### row808 isn't need
df_stage2_Journal_Code2$Sample_Size[812] <- 180

df_stage2_Journal_Code2$Sample_Size[811] <- 30
df_stage2_Journal_Code2$Female_Num[811] <- 17
df_stage2_Journal_Code2$Male_Num[811] <- 13
### Meanwhile, I found this article' Study3 should code "inapplicable" in Remark1( Remark1_N).
#df_stage2_Journal_Code2$Remark1[811] <- "inapplicable"
#df_stage2_Journal_Code2$Remark1_N[811] <- "inapplicable"

### Article_IDs 20081026
df_stage2_Journal_Code2$Sample_Size[1251] <- 284

### Article_IDs 20082009
df_stage2_Journal_Code2$Sample_Size[1471] <- 30
#meanwhile, I found names error of study number
df_stage2_Journal_Code2$Study_Number[1468:1471] <- c("1a","1b","2a","2b")
df_stage2_Journal_Code2$Study_Number_N[1468:1471] <- c("1a","1b","2a","2b")

rm(Sample_Size)
```


### Gender, Male_Num and Female_Num
```{r}
Gender <- df_stage2_Journal_Code2 %>% 
  dplyr::select(3,14,39,17,32,34) %>% 
  dplyr::filter(is.na(Gender)) %>% 
  dplyr::filter(is.na(Remark1)) %>% 
  dplyr::filter(!grepl("重复",Remark2))

### Article_IDs 20083093
df_stage2_Journal_Code2$Gender[62] <- 1
df_stage2_Journal_Code2$Male_Num[62] <- 55
df_stage2_Journal_Code2$Female_Num[62] <- 120

### Article_IDs 20181140
df_stage2_Journal_Code2$Gender[73] <- 1
df_stage2_Journal_Code2$Male_Num[73] <- 23
df_stage2_Journal_Code2$Female_Num[73] <- 20

rm(Gender)

Male_Female <- df_stage2_Journal_Code2 %>% 
  dplyr::filter(Gender == 1 & (is.na(Male_Num) | is.na(Female_Num))) %>% 
  dplyr::select(3,16:19)


### Article_IDs 20184052
df_stage2_Journal_Code2$Female_Num[398] <- 1-0.571


### Article_IDs 20211034
df_stage2_Journal_Code2$Female_Num[423] <- 1-0.55


### Article_IDs 20211040
df_stage2_Journal_Code2$Male_Num[426] <- 210-117


### Article_IDs 20082283
df_stage2_Journal_Code2$Male_Num[732] <- 426
df_stage2_Journal_Code2$Female_Num[732] <- NA


### Article_IDs 20181007
df_stage2_Journal_Code2$Male_Num[765] <- 13
df_stage2_Journal_Code2$Female_Num[765] <- 12


### Article_IDs 20182103
df_stage2_Journal_Code2$Male_Num[809:810] <- NA
df_stage2_Journal_Code2$Male_Num[812] <- 180-86
df_stage2_Journal_Code2$Female_Num[812] <- 86

rm(Male_Female)
```


### Age, M_age, SD_age and Other_age
```{r}
Age <- df_stage2_Journal_Code2 %>% 
  dplyr::select(3,14,39,20,32,34) %>% 
  dplyr::filter(is.na(Age)) %>% 
  dplyr::filter(is.na(Remark1)) %>% 
  dplyr::filter(!grepl("重复",Remark2))
  
### Article_IDs 20083038
df_stage2_Journal_Code2$Age[37] <- 1

### Article_IDs 20083093
df_stage2_Journal_Code2$Age[62] <- 1
df_stage2_Journal_Code2$M_age[62] <- 26.02

### Article_IDs 20181140
df_stage2_Journal_Code2$Age[73] <- 1
df_stage2_Journal_Code2$M_age[73] <- 21.72
df_stage2_Journal_Code2$SD_age[73] <- 2.3

### Article_IDs 20182248
df_stage2_Journal_Code2$Age[126:127] <- 1

### Article_IDs 20185187
df_stage2_Journal_Code2$Age[215] <-  0

rm(Age)

Age_info <- df_stage2_Journal_Code2 %>% 
  dplyr::filter(Age == 1) %>% 
  dplyr::filter(is.na(M_age) | is.na(SD_age)) %>% 
  dplyr::select(3,20:23,14,32,34,39)
```


### Ethnicity and info
```{r}
Ethnicity <- df_stage2_Journal_Code2 %>% 
  dplyr::select(3,14,39,24,32,34) %>% 
  dplyr::filter(is.na(Ethnicity)) %>% 
  dplyr::filter(is.na(Remark1)) %>% 
  dplyr::filter(!grepl("重复",Remark2))

### Article_IDs 20083093
df_stage2_Journal_Code2$Ethnicity[62] <- 0

### Article_IDs 20181140
df_stage2_Journal_Code2$Ethnicity[73] <- 0

### Article_IDs 20185191
df_stage2_Journal_Code2$Ethnicity[218] <- 0

### Article_IDs 20181017
df_stage2_Journal_Code2$Ethnicity[775:776] <- 0

rm(Ethnicity)


Ethnicity_info <- df_stage2_Journal_Code2 %>% 
  dplyr::filter(Ethnicity == 1 & is.na(Ethnicity)) %>% 
  dplyr::select(3,25,14,32,34,39)

rm(Ethnicity_info)
```


### Religious and info
```{r}
Religious <- df_stage2_Journal_Code2 %>% 
  dplyr::select(3,14,39,26,32,34) %>% 
  dplyr::filter(is.na(Religious)) %>% 
  dplyr::filter(is.na(Remark1)) %>% 
  dplyr::filter(!grepl("重复", Remark2))

### Article_IDs 20083093
df_stage2_Journal_Code2$Religious[62] <- 0

### Article_IDs 20181140
df_stage2_Journal_Code2$Religious[73] <- 0

### Article_IDs 20181081
df_stage2_Journal_Code2$Religious[1056] <- 0

### Article_IDs 20183229
df_stage2_Journal_Code2$Religious[1109] <- 0

### Article_IDs 20213029
df_stage2_Journal_Code2$Religious[1440] <- 0

rm(Religious)


Religious_info <- df_stage2_Journal_Code2 %>% 
  dplyr::filter(Religious == 1 & is.na(Religious_info)) %>% 
  dplyr::select(3,27,14,32,34,39)

### In check process, 20182168' Religious_info need recode.
df_stage2_Journal_Code2$Religious_info[1067:1068] <- "4(无宗教信仰)"

rm(Religious_info)
```


### Subjects_Area and info
```{r}
Subjects_Area <- df_stage2_Journal_Code2 %>% 
  dplyr::select(3,14,39,28,32,34) %>% 
  dplyr::filter(is.na(Subjects_Area)) %>% 
  dplyr::filter(is.na(Remark1)) %>% 
  dplyr::filter(!grepl("重复", Remark2))

### Article_IDs 20083093
df_stage2_Journal_Code2$Subjects_Area[62] <- 0

### Article_IDs 20181140
df_stage2_Journal_Code2$Subjects_Area[73] <- 0

### Article_IDs 20082296
df_stage2_Journal_Code2$Subjects_Area[735:737] <- 0

### Article_IDs 20082298
df_stage2_Journal_Code2$Subjects_Area[738] <- 0

### Article_IDs 20085035
df_stage2_Journal_Code2$Subjects_Area[747] <- 0

### Article_IDs 20085044
df_stage2_Journal_Code2$Subjects_Area[752:754] <- 0

### Article_IDs 20183229
df_stage2_Journal_Code2$Subjects_Area[1109] <- 0

### Article_IDs 20213012
df_stage2_Journal_Code2$Subjects_Area[1434] <- 0

### Article_IDs 20213039
df_stage2_Journal_Code2$Subjects_Area[1443] <- 0

### Article_IDs 20211018
df_stage2_Journal_Code2$Subjects_Area[1675] <-  0

rm(Subjects_Area)

Subjects_Area_info <- df_stage2_Journal_Code2 %>% 
  dplyr::filter(Subjects_Area >= 1 & is.na(Subjects_Area_info)) %>% 
  dplyr::select(3,28:29,14,39,32,34)


### Article_IDs 20215026
df_stage2_Journal_Code2$Subjects_Area_info[1216] <- "天津本地居住"

rm(Subjects_Area_info)
```


### Subjects_Recruitment_Area
```{r}
Subjects_Recruitment_Area <- df_stage2_Journal_Code2 %>% 
  dplyr::select(3,14,39,30,32,34) %>% 
  dplyr::filter(is.na(Subjects_Recruitment_Area)) %>% 
  dplyr::filter(is.na(Remark1)) %>% 
  dplyr::filter(!grepl("重复", Remark2))


### Article_IDs 20181140
df_stage2_Journal_Code2$Subjects_Recruitment_Area[73] <- "广东"

### Article_IDs 20182297
df_stage2_Journal_Code2$Subjects_Recruitment_Area[159] <- "东部;中部;西部"

### Article_IDs 20183326
df_stage2_Journal_Code2$Subjects_Recruitment_Area[172] <- "湖北"

### Article_IDs 20082064
df_stage2_Journal_Code2$Subjects_Recruitment_Area[250] <- "西北;东北;华北;华东;华南;华中;西南"

### Article_IDs 20181243
df_stage2_Journal_Code2$Subjects_Recruitment_Area[319] <- "福建;上海;宁夏"

### Article_IDs 20085035
df_stage2_Journal_Code2$Subjects_Recruitment_Area[747] <- "内蒙古"

### Article_IDs 20085044
df_stage2_Journal_Code2$Subjects_Recruitment_Area[752:754] <- "北京"

### Article_IDs 20181007
df_stage2_Journal_Code2$Subjects_Recruitment_Area[765:767] <- 0

### Article_IDs 20082339
df_stage2_Journal_Code2$Subjects_Recruitment_Area[995] <- 0

### Article_IDs 20081026
df_stage2_Journal_Code2$Subjects_Recruitment_Area[1251] <- "广东"

### Article_IDs 20183277
df_stage2_Journal_Code2$Subjects_Recruitment_Area[1394] <- 0

### Article_IDs 20183292
df_stage2_Journal_Code2$Subjects_Recruitment_Area[1398:1399] <- 0

### Article_IDs 20183308
df_stage2_Journal_Code2$Subjects_Recruitment_Area[1406] <- 0

### Article_IDs 20185083
df_stage2_Journal_Code2$Subjects_Recruitment_Area[1409:1410] <- 0

### Article_IDs 20185087
df_stage2_Journal_Code2$Subjects_Recruitment_Area[1411:1414] <- 0

### Article_IDs 20185096
df_stage2_Journal_Code2$Subjects_Recruitment_Area[1415] <- 0

### Article_IDs 20185110
df_stage2_Journal_Code2$Subjects_Recruitment_Area[1418] <- 0

### Article_IDs 20185114
df_stage2_Journal_Code2$Subjects_Recruitment_Area[1421] <- 0

### Article_IDs 20185121
df_stage2_Journal_Code2$Subjects_Recruitment_Area[1424] <- 0

### Article_IDs 20185128
df_stage2_Journal_Code2$Subjects_Recruitment_Area[1428] <- 0

### Article_IDs 20185130
df_stage2_Journal_Code2$Subjects_Recruitment_Area[1429] <- 0

### Article_IDs 20213037
df_stage2_Journal_Code2$Subjects_Recruitment_Area[1442] <- 0
### uncode experiment2????

### Article_IDs 20213047
df_stage2_Journal_Code2$Subjects_Recruitment_Area[1449:1450] <- 0

### Article_IDs 20213048
df_stage2_Journal_Code2$Subjects_Recruitment_Area[1451:1452] <- 0

### Article_IDs 20215076
df_stage2_Journal_Code2$Subjects_Recruitment_Area[1460] <- 0

rm(Subjects_Recruitment_Area)


```


### Sampling_Method
```{r}
Sampling_Method <- df_stage2_Journal_Code2 %>% 
  dplyr::select(3,14,39,31,32,34) %>% 
  dplyr::filter(is.na(Sampling_Method)) %>% 
  dplyr::filter(is.na(Remark1)) %>% 
  dplyr::filter(!grepl("重复", Remark2))


### Article_IDs 20083093
df_stage2_Journal_Code2$Sampling_Method[62] <- 0

### Article_IDs 20181140
df_stage2_Journal_Code2$Sampling_Method[73] <- 0

### Article_IDs 20082105
df_stage2_Journal_Code2$Sampling_Method[260:267] <- 1

### Article_IDs 20211067
df_stage2_Journal_Code2$Sampling_Method[453:454] <- 0

### Article_IDs 20082296
df_stage2_Journal_Code2$Sampling_Method[735:737] <- 2

### Article_IDs 20082298
df_stage2_Journal_Code2$Sampling_Method[738] <- 2

### Article_IDs 20182180
df_stage2_Journal_Code2$Sampling_Method[1078] <- 0

### Article_IDs 20182182
df_stage2_Journal_Code2$Sampling_Method[1079:1081] <- 0

### Article_IDs 2182183
df_stage2_Journal_Code2$Sampling_Method[1082:1083] <- 0

### Article_IDs 20182184
#I found this is "secondary"
df_stage2_Journal_Code2$Remark1[1084] <- "secondary"
df_stage2_Journal_Code2$Remark1_N[1084] <- "secondary"

### Article_IDs 20182188
df_stage2_Journal_Code2$Sampling_Method[1085] <- 0

### Article_IDs 20182191
#I found this is "qualitative"
df_stage2_Journal_Code2$Remark1[1086] <- "qualitative"
df_stage2_Journal_Code2$Remark1_N[1086] <- "qualitative"

### Article_IDs 20081026
df_stage2_Journal_Code2$Sampling_Method[1251] <- 1

rm(Sampling_Method)
```


### Target_Population_N
```{r}
Target_Population_N <- df_stage2_Journal_Code2 %>% 
  dplyr::select(3,14,39,37,32,34) %>% 
  dplyr::filter(is.na(Target_Population_N)) %>% 
  dplyr::filter(is.na(Remark1)) %>% 
  dplyr::filter(!grepl("重复", Remark2))

```


### Sample_Type_N and Sample_Type_info_N
```{R}
Sample_Type_N <- df_stage2_Journal_Code2 %>% 
  dplyr::select(3,14,39,40,32,34) %>% 
  dplyr::filter(is.na(Sample_Type_N)) %>% 
  dplyr::filter(is.na(Remark1)) %>% 
  dplyr::filter(!grepl("重复", Remark2))


### Article_IDs 20081136
df_stage2_Journal_Code2$Sample_Type_N[35] <- 2

### Article_IDs 20082002
df_stage2_Journal_Code2$Sample_Type_N[36] <- 2

### Article_IDs 20085022
df_stage2_Journal_Code2$Sample_Type_N[741] <- 1

### Article_IDs 20182104
df_stage2_Journal_Code2$Sample_Type_N[813:814] <- 0

### Article_IDs 20081026
df_stage2_Journal_Code2$Sample_Type_N[1251] <- 0

### Article_IDs 20184025
df_stage2_Journal_Code2$Sample_Type_N[1596] <- 1

rm(Sample_Type_N)

Sample_Type_info_N <- df_stage2_Journal_Code2 %>% 
  dplyr::filter(is.na(Sample_Type_info_N)) %>% 
  dplyr::filter(!is.na(Sample_Type_N)) %>% 
  dplyr::select(3,14,39,41,32,34)


### Article_IDs 20181176
df_stage2_Journal_Code2$Sample_Type_info_N[109] <- "选取34名河北师范大学在校大校生(男生16名,女生18名)作为被试"

### Article_IDs 20182018
df_stage2_Journal_Code2$Sample_Type_info_N[335] <- "132名学前末期儿童参与实验1"

### Article_IDs 20084068
df_stage2_Journal_Code2$Sample_Type_info_N[537] <- "从上海两所中等水平幼儿园的325名幼儿中以年龄班分层随机抽取180名3～6岁幼儿。"

### Article_IDs 20182050
df_stage2_Journal_Code2$Sample_Type_info_N[565] <- "再另外随机选取78名本科生完成Buss-Perry攻击性量表"

### Article_IDs 20182069
df_stage2_Journal_Code2$Sample_Type_info_N[582] <- "来自上海某小学的154名7岁儿童参与本研究"

### Article_IDs 20183142
df_stage2_Journal_Code2$Sample_Type_info_N[611] <- "研究对象为来自湖南省某综合医院心理科门诊的心理咨询就诊患者"

### Article_IDs 20212031
df_stage2_Journal_Code2$Sample_Type_info_N[649] <- "采用方便取样和滚雪球抽样的方式，通过网络宣传、社区招募、熟人介绍等方式面向社会公开征集被试.确认愿意参与研究的有效被试为106对。夫 妻的婚龄为15.13±11.20月（1~36月之间）"

### Sample_Type_N is 5, I need to reclassify the code once.

### Article_IDs 20085022
df_stage2_Journal_Code2$Sample_Type_info_N[741] <- "选取某大学二年级的理科生为被试"

### Article_IDs 20181022
df_stage2_Journal_Code2$Sample_Type_info_N[786] <- "汉族被试为四川省广安市两所公立中学的42名高中生"

### Article_IDs 20181065
df_stage2_Journal_Code2$Sample_Type_info_N[1042:1043] <- "大学生被试463人"
### I found study1' Sample_Type_info_N of this article is incorrect.
df_stage2_Journal_Code2$Sample_Type_info_N[1041] <- df_stage2_Journal_Code2$Sample_Type_info_N[1040]

### Article_IDs 20081026
df_stage2_Journal_Code2$Sample_Type_info_N[1251] <- "纸笔测验在中山大学完成，全部被试来自选修某选修课的学生"
### I found this article' Sample_Type_N is incorrect.
df_stage2_Journal_Code2$Sample_Type_N[1251] <- 1

### Article_IDs 20184025
df_stage2_Journal_Code2$Sample_Type_info_N[1596] <- "采用广告招募和公共课堂发问卷的方式从382名大学本科生中获取被试"

rm(Sample_Type_info_N)
```


### Subjects_Recruitment_Method_N and info
```{r}
Subjects_Recruitment_Method_N <- df_stage2_Journal_Code2 %>%
  dplyr::select(3,14,39,47,32,34) %>% 
  dplyr::filter(is.na(Subjects_Recruitment_Method_N)) %>% 
  dplyr::filter(is.na(Remark1)) %>% 
  dplyr::filter(!grepl("重复", Remark2))


### Article_IDs 20081134
df_stage2_Journal_Code2$Subjects_Recruitment_Method_N[33] <- 1

### Article_IDs 20182255
df_stage2_Journal_Code2$Subjects_Recruitment_Method_N[129] <- 1

### Article_IDs 20185165
df_stage2_Journal_Code2$Subjects_Recruitment_Method_N[206:207] <- 1

### Article_IDs 20185174
df_stage2_Journal_Code2$Subjects_Recruitment_Method_N[211] <- 1

### Article_IDs 20185191
df_stage2_Journal_Code2$Subjects_Recruitment_Method_N[218] <- 2

### Article_IDs 20213089
df_stage2_Journal_Code2$Subjects_Recruitment_Method_N[225] <- 1

### Article_IDs 20213091
df_stage2_Journal_Code2$Subjects_Recruitment_Method_N[226] <- 0

### Article_IDs 20213120
df_stage2_Journal_Code2$Subjects_Recruitment_Method_N[237] <- 2

### Article_IDs 20082067
df_stage2_Journal_Code2$Subjects_Recruitment_Method_N[252] <- 0

### Article_IDs 20085022
df_stage2_Journal_Code2$Subjects_Recruitment_Method_N[741] <- 1

### Article_IDs 20181005
df_stage2_Journal_Code2$Subjects_Recruitment_Method_N[763] <- 1

### Article_IDs 20185003
df_stage2_Journal_Code2$Subjects_Recruitment_Method_N[897] <- 1 

### Article_IDs 20214060
df_stage2_Journal_Code2$Subjects_Recruitment_Method_N[970] <- "1;2"

### Article_IDs 20181026
df_stage2_Journal_Code2$Subjects_Recruitment_Method_N[1251] <- 1

### Article_IDs 20183277
df_stage2_Journal_Code2$Subjects_Recruitment_Method_N[1394] <- 0

### Article_IDs 20183292
df_stage2_Journal_Code2$Subjects_Recruitment_Method_N[1398:1399] <- 0

### Article_IDs 20183295
df_stage2_Journal_Code2$Subjects_Recruitment_Method_N[1400] <- 1

### Article_IDs 20213024
df_stage2_Journal_Code2$Subjects_Recruitment_Method_N[1439] <- 1

### Article_IDs 20184025
### I found subjects of this study2 same as study1 ,namely "被试重复使用"
df_stage2_Journal_Code2$Remark2[1596] <- "被试重复使用"
df_stage2_Journal_Code2$Remark2_N[1596] <- "被试重复使用"

rm(Subjects_Recruitment_Method_N)

Subjects_Recruitment_Method_info_N <- df_stage2_Journal_Code2 %>% 
  dplyr::filter(Subjects_Recruitment_Method_N == 2 | Subjects_Recruitment_Method_N == "1;2") %>% 
  dplyr::filter(is.na(Subjects_Recruitment_Method_info_N))%>% 
  dplyr::select(3,47:48,14,39,34,36)


### Article_IDs 20213104
df_stage2_Journal_Code2$Subjects_Recruitment_Method_info_N[230] <- "研究者社交网络招募被试，问卷星发放问卷"

### Article_IDs 20211040
df_stage2_Journal_Code2$Subjects_Recruitment_Method_info_N[424:428] <- "营销实验室"

rm(Subjects_Recruitment_Method_info_N)
```


### Educational_Attainment_N and info
```{r}
Educational_Attainment_N <- df_stage2_Journal_Code2 %>% 
  dplyr::filter(Sample_Type_N >= 4 & is.na(Educational_Attainment_N)) %>% 
  dplyr::select(3,40:43,14,32,34,39)


### Article_IDs 20083052
df_stage2_Journal_Code2$Educational_Attainment_N[44] <- 1
df_stage2_Journal_Code2$Educational_Attainment_info_N[43]  <- "平均教育程度为14.1±1.7年" 

### Article_IDs 20083107
df_stage2_Journal_Code2$Educational_Attainment_N[67] <- 1
df_stage2_Journal_Code2$Educational_Attainment_info_N[67] <- "文化水平小学及以上"

### Article_IDs 20181143
df_stage2_Journal_Code2$Educational_Attainment_N[83:84] <- 0

### Article_IDs 20082105
df_stage2_Journal_Code2$Educational_Attainment_N[262:267] <- 0

### Article_IDs 20182017
df_stage2_Journal_Code2$Educational_Attainment_N[332] <- 0
df_stage2_Journal_Code2$Educational_Attainment_N[334] <- 0

### Article_IDs 20182085
df_stage2_Journal_Code2$Educational_Attainment_N[795] <- 0

### Article_IDs 20182148
df_stage2_Journal_Code2$Educational_Attainment_N[841] <- 0

### Article_IDs 20212122
### I found sample type of this study is not 5 but 1.
df_stage2_Journal_Code2$Sample_Type_N[942] <- 1
df_stage2_Journal_Code2$Sample_Type_info_N[942] <- "对559 名有过网络游戏经验的大学生进行调查"

### Article_IDs 20215035
### I found sample type of this study is not 5 but 2.
df_stage2_Journal_Code2$Sample_Type_N[1218] <- 2

### Article_IDs 20081037
df_stage2_Journal_Code2$Educational_Attainment_N[1266:1267] <- 1
df_stage2_Journal_Code2$Educational_Attainment_info_N[1266] <- "本研究的被试是某大学商学院参加“组织行为学”课程的 MBA 学生"
df_stage2_Journal_Code2$Educational_Attainment_info_N[1267] <- "本研究的参加者为商学院学习《组织行为学》课程的 MBA 学生"

### Article_IDs 20183264
df_stage2_Journal_Code2$Educational_Attainment_N[1388:1389] <- 1

rm(Educational_Attainment_N)
```


### Ocuupation_N
```{r}
Occupation_N <- df_stage2_Journal_Code2 %>% 
  dplyr::filter(Sample_Type_N >= 4 & is.na(Occupation_N)) %>% 
  dplyr::select(3,40:41,44,14,32,34,39)


### Article_IDs 20083107
df_stage2_Journal_Code2$Occupation_N[67] <- 0

### Article_IDs 20185174
df_stage2_Journal_Code2$Occupation_N[211] <- 0

### Article_IDs 20182085
df_stage2_Journal_Code2$Occupation_N[795] <- 0

### Article_IDs 20182148
### I found Sample_Type_info_N of this study is incorrect
df_stage2_Journal_Code2$Sample_Type_info_N[841] <- "预实验2让被试对产品进行体验型和搜索型的评分，48名被试参与实验，有效被试46人，其中男性21人,女性25人"

###Article_IDs 20081037
df_stage2_Journal_Code2$Occupation_N[1266:1267] <- 0

### Article_IDs 20183257
df_stage2_Journal_Code2$Occupation_N[1385] <- 0

rm(Occupation_N)

```


### SES_N and info
```{r}
SES_N <- df_stage2_Journal_Code2 %>% 
  dplyr::filter(Sample_Type_N >= 4 & is.na(SES_N)) %>% 
  dplyr::select(3,40:41,45:46,14,32,34,39)

### Article_IDs 20083093
df_stage2_Journal_Code2$SES_N[63:64] <- 0

### Article_IDs 20083107
df_stage2_Journal_Code2$SES_N[67] <- 2

### Article_IDs 20185174
df_stage2_Journal_Code2$SES_N[211] <- 2

### Article_IDs 20213120
df_stage2_Journal_Code2$SES_N[237] <- "1;2;3"

### Article_IDs 20215082
df_stage2_Journal_Code2$SES_N[243] <- "1;3"

### Article_IDs 20082105
df_stage2_Journal_Code2$SES_N[262:267] <- 1

### Article_IDs 20082107
df_stage2_Journal_Code2$SES_N[268:269] <- 2
df_stage2_Journal_Code2$SES_info_N[268] <- NA

rm(SES_N)
```

## Calculating report condition 
In our data, there are some data columns that need to calculate the report of the data,such as Gender, Age, SES, Educational attachment, Occupation, Ethnicity, Religious,Subjects_Recruitment_Area and  Sampling_Method,Subjects_Recruitment_Method. In this part, we will finish this analysis.










```
